setup.users = {
    "ZeroRing233": {
        id: "ZeroRing233",
        username: "é›¶ç¯é›¶ç†æƒ³",
        attitude: ["supportive"],
        specialSpeech: ["å˜¿ï¼Œå¤§å®¶å¥½ï¼Œæˆ‘æ˜¯é›¶ç¯",
            "å‘Šè¯‰ä½ ä»¬ä¸€ä¸ªç§˜å¯†ï¼Œæˆ‘æ˜¯è¿™ä¸ªç›´æ’­å¹³å°çš„ç®¡ç†å‘˜ï¼Œé‡åˆ°é—®é¢˜å¯ä»¥è”ç³»æˆ‘ï¼Œçœ‹åˆ°ä¾§è¾¹æ çš„è“è‰²çˆ±å¿ƒäº†å—ï¼Œé‚£é‡Œæœ‰æˆ‘çš„è”ç³»æ–¹å¼",
        ],
        isFans: true
    },
    "benzene": {
        id: "benzene",
        username: "è‹¯ç¯",
        attitude: ["supportive"],
        specialSpeech: ["å¥½çœ‹çˆ±çœ‹âŒ¬Ï‰âŒ¬", 'ä¸»æ’­ä½ é‚£æ˜¯ä¸æ˜¯å¡äº†(>ï¹<)'],
        isFans: true
    },
    "random123": {
        id: "random123",
        username: "ç”¨æˆ·123",
        attitude: ["supportive", "supportive", "neutral", "neutral", "negative"],
        specialSpeech: []
    },
    "random456": {
        id: "random456",
        username: "ç”¨æˆ·456",
        attitude: ["supportive", "supportive", "neutral", "neutral", "negative"],
        specialSpeech: []
    },
    "random789": {
        id: "random789",
        username: "ç”¨æˆ·789",
        attitude: ["supportive", "supportive", "neutral", "neutral", "negative"],
        specialSpeech: []
    },
    "random123456": {
        id: "random123456",
        username: "ç”¨æˆ·123456",
        attitude: ["supportive", "supportive", "neutral", "neutral", "negative"],
        specialSpeech: []
    },
    "random456789": {
        id: "random456789",
        username: "ç”¨æˆ·456789",
        attitude: ["supportive", "supportive", "neutral", "neutral", "negative"],
        specialSpeech: []
    },
    "random2": {
        id: "random2",
        username: "æˆ‘æ˜¯å¥½çŒ«",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    },
    "random3": {
        id: "random3",
        username: "æˆ‘æ˜¯åçŒ«",
        attitude: ["negative"],
        specialSpeech: []
    },
    "random4": {
        id: "random4",
        username: "å½©å½©å½©å½©å½©è™¹é©¬",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    },
    "random5": {
        id: "random5",
        username: "æŠ¢ä¸åˆ°è‰è“çš„è›‹ç³•æ•™æˆ",
        attitude: ["supportive"],
        specialSpeech: ["ä¸»æ’­å¥½å¼ºå¥½å¯çˆ±ï¼Œå¯ä»¥åˆ†äº«ä¸‹ç»éªŒå—(Â´à®‡çš¿à®‡ï½€)"],
        isFans: true
    },
    "random6": {
        id: "random6",
        username: "tuyuä¸¶æ¶‚é±¼ğŸŸ",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    },
    "random7": {
        id: "random7",
        username: "å½­çŒ«çŒ«",
        attitude: ["supportive"],
        specialSpeech: [],
    },
    "random8": {
        id: "random8",
        username: "èŠ‹æ³¥å†°æ²™",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random9": {
        id: "random9",
        username: "åˆ©å£æ¹¾å¤§ä¸»æ•™",
        attitude: ["supportive"],
        specialSpeech: []
    },
    "random10": {
        id: "random10",
        username: "æŸ¥æŸ¥ä»Šå¤©å·¥ä½œäº†å—",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    },
    "random11": {
        id: "random11",
        username: "ä»0å­¦ä»£ç åªä¸ºæŠŠé¥¼å˜ç°é¡ºä¾¿æˆ‘è¦ä¸­é—¨å¯¹ç‹™",
        attitude: ["supportive"],
        specialSpeech: []
    },
    "random12": {
        id: "random12",
        username: "å°±è¿™æ ·å§",
        attitude: ["supportive"],
        specialSpeech: []
    },
    "random13": {
        id: "random13",
        username: "ç¦»æ¸Š",
        attitude: ["neutral"],
        specialSpeech: []
    },
    "random14": {
        id: "random14",
        username: "æ˜¯é¦™èœä¸å«é¦™è‰",
        attitude: ["neutral"],
        specialSpeech: []
    },
    "random15": {
        id: "random15",
        username: "æŸäººè¦æ±‚ä¿æŒä½è°ƒ555",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    },
    "random16": {
        id: "random16",
        username: "é»æ˜ç ´æ™“",
        attitude: ["supportive"],
        specialSpeech: ["ä¸»æ’­å£°éŸ³çœŸå¥½å¬ï¼Œèƒ½å”±ä¸€é¦–æ­Œå—ï¼Ÿæƒ³å¤šå¬å¬ä¸»æ’­çš„å£°éŸ³ã€‚"],
        isFans: true
    },
    "random17": {
        id: "random17",
        username: "ä¸€è¾†è½¦åˆ›äº†è¿‡æ¥",
        attitude: ["supportive"],
        specialSpeech: ["å¯¹ä¸èµ·åˆšæ‰å†²æ™•äº†è¿‡å»ï¼Œä¸»æ’­å¤ªå¯çˆ±äº†"],
        isFans: true
    },
    "random18": {
        id: "random18",
        username: "Ca",
        attitude: ["supportive"],
        specialSpeech: ["æ„Ÿè§‰ä¸»æ’­çš„å£°éŸ³å¬èµ·æ¥å¥½æœ‰å®‰å…¨æ„Ÿï¼ä¸€å®šæ˜¯ä¸€ä½åœ¨ç”Ÿæ´»ä¸­ç‰¹åˆ«åŠªåŠ›çš„äººå§ï¼"],
        isFans: true
    },
    "random19": {
        id: "random19",
        username: "Penuma",
        attitude: ["supportive"],
        specialSpeech: []
    },
    "headteacher": {
        id: "headteacher",
        username: "æ¸…æ­£å»‰æ´å¥½æ ¡é•¿",
        attitude: ["negative"],
        specialSpeech: ["ä½ ä»¬æ˜¯ï¼Ÿæ˜å¤©æ¥æˆ‘åŠå…¬å®¤ä¸€è¶Ÿ"]
    },
    "random20": {
        id: "random20",
        username: "ç¡æ‡’è§‰bot",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random21": {
        id: "random21",
        username: "æ¸…é£å¾æ¥",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random22": {
        id: "random22",
        username: "44543è¯·é—®",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random23": {
        id: "random23",
        username: "é¸Ÿé¸Ÿnightsky",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random24": {
        id: "random24",
        username: "é™†æ˜€å…®",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random25": {
        id: "random25",
        username: "å±±æœˆæ¡‚ç©å¶",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    },
    "random27": {
        id: "random27",
        username: "èœœèœ‚&",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random28": {
        id: "random28",
        username: "ä¸ƒæ›œæ—¥çš„ä¸ƒ",
        attitude: ["supportive", "neutral"],
        specialSpeech: []
    },
    "random29": {
        id: "random29",
        username: "æ§å®‰",
        attitude: ["supportive"],
        specialSpeech: [],
        isFans: true
    }
}

setup.teather_users = {
    "Doren": {
        id: "Doren",
        username: "ä¸“åˆ€é¢„è¨€å®¶",
        attitude: ["supportive"],
        firstSpeech: ["å­©å­ä»¬ï¼Œä½ ä»¬å¥½å•Šï¼ŒçœŸé«˜å…´èƒ½åœ¨è¿™é‡Œè§åˆ°ä½ ä»¬ï¼Œä½ ä»¬åšå¾—å¾ˆæ£’ã€‚"], //ç¬¬ä¸€å¥è¯
        specialSpeech: ["åˆè§åˆ°ä½ ä»¬äº†ï¼Œå­©å­ä»¬", "æˆ‘å¸Œæœ›ä½ ä»¬ä¸€åˆ‡é¡ºåˆ©", "ä½ ä»¬çœŸçš„éƒ½å¾ˆæœ‰å¤©èµ‹", "ç›´æ’­å’Œæ¼”è®²æŸç§ç¨‹åº¦ä¸Šæ˜¯ç›¸å…³çš„ï¼Œå­©å­ä»¬å¥½å¥½åŠ æ²¹ã€‚", "ä¸è¦ç†ä¼šå…¶ä»–äººçš„é—²è¨€ç¢è¯­ï¼Œå‹‡æ•¢å±•ç°è‡ªå·±ã€‚"]
    },
    "River": {
        id: "River",
        username: "éšæœºç”¨æˆ·R",
        attitude: ["supportive"],
        firstSpeech: ["å¤©å“ªï¼Œå±…ç„¶çœŸçš„æ˜¯ä½ ä»¬ä¿©ï¼Œä½ ä»¬æ€ä¹ˆä¼š..."],
        specialSpeech: ["æˆ‘å¸Œæœ›ä½ ä»¬ä¸ä¼šå› æ­¤è€Œè€½è¯¯å­¦ä¹ ", "è®°å¾—æ§åˆ¶å¥½ç›´æ’­æ—¶é—´", "å¤šæ’­ä¸€äº›ç§¯æå‘ä¸Šçš„å†…å®¹"]
    },
    "Sirris": {
        id: "Sirris",
        username: "â¤ï¸qâœ¨qç”¨å“â¤ï¸ä¸“å”®ï¼Œç§â¤ï¸ç”µï¼šxxxx",
        attitude: ["supportive"],
        firstSpeech: ["æœ‰ä»€ä¹ˆå…³ç³»å˜›ï¼Œåˆä¸è¿åæ ¡è§„ï¼Œæˆ‘è¿˜æŒºæœŸå¾…ä»–ä»¬çš„è¡¨ç°çš„ã€‚"],
        specialSpeech: ["å—¨ï¼Œä½ ä»¬å¥½", "å¯ä»¥åœ¨ç›´æ’­é—´å¤šæ™®åŠä¸€äº›ç§‘å­¦çŸ¥è¯†", "ä¸é”™ä¸é”™ï¼Œç›´æ’­å†…å®¹å¾ˆæœ‰è¶£"]
    },
    "Winter": {
        id: "Winter",
        username: "ç‰›æ´¥è¡—åšç‰©é¦†â€”æ¯å‘¨ä¸Šçº¿å†å²ç›´æ’­",
        attitude: ["supportive"],
        firstSpeech: ["è®°å¾—å‘æŒ¥ä¸‹ä½ ä»¬åœ¨è¯¾ä¸Šå­¦åˆ°çš„ä¸œè¥¿ï¼Œåœ¨ç›´æ’­æ—¶å¤šæ™®åŠäº›å†å²çŸ¥è¯†ã€‚"],
        specialSpeech: ["å¾ˆé«˜å…´å†æ¬¡è§åˆ°ä½ ä»¬", "å¯ä»¥åœ¨ç›´æ’­é—´å¤šæä¸€äº›å†å²æ•…äº‹ï¼Œä»¥åŠåšç‰©é¦†é‡Œçš„è—å“", "ç”Ÿæ´»ä¸­å’Œæ¸¸æˆå†…çš„å¾ˆå¤šäº‹æƒ…éƒ½æœ‰å…¶å†å²åŸå‹ï¼Œå¸Œæœ›ä½ ä»¬èƒ½å¥½å¥½æŒ–æ˜"]
    },
    "Mason": {
        id: "Mason",
        username: "å­¤æ³³è€…",
        attitude: ["supportive"],
        firstSpeech: ["åˆ«å¿˜äº†è¿˜æœ‰æˆ‘ï¼Œæˆ‘ä¹Ÿåœ¨æ”¯æŒç€ä½ ä»¬å‘¢ã€‚"],
        specialSpeech: ["å¾ˆé«˜å…´çœ‹åˆ°ä½ ä»¬è¿™ä¹ˆæœ‰æ´»åŠ›", "ä½ ä»¬æƒ³ä¸æƒ³å»æˆ·å¤–ç›´æ’­ï¼Ÿ", "è®°å¾—ä¹…åä¹‹åè¦å¤šè¿åŠ¨"]
    }
}

// AIå¸®å¿™è·‘äº†ä¸‹æ–°ç”¨æˆ·åï¼Œè™½ç„¶å’ŒåŸæ¥åŒºåˆ«ä¸å¤§
const usernames = `è¿™ç§æ²»å¥½äº†ä¹Ÿæµå£æ°´å¨ƒ
é£çµæœˆå½±å®—é¦–å¸­å¼Ÿå­
èª“æ­»æå«çŒ«çŒ«å¸½
å°ç³–æ‘‡æ‘†ä¸åœæ­‡
å¿«ä¹æºæ³‰å½©è™¹é©¬
åƒè‘¡è„ä»ä¸åçš®
æˆ‘ç²¾ç¥çŠ¶æ€è¶…æ£’
ç¬¨ç¦æ»¡æ»¡
ğŸŒ¼é«˜éŸ³60
å°çŒ«çˆ±åƒèŠå£«å ¡
å°è‰è“å¦¹å¦¹ğŸ“
æ—©å®‰äº²çˆ±çš„ä¸–ç•Œ
ç§æ¤å›­æ±‰åŒ–ç»„å®˜æ–¹
æ˜µç§°ç©ºä½æ‹›ç§Ÿä¸­
é˜¶æ¢¯å“¥å“¥æ˜¯é’¢é“ä¾ 
å’ªå–µç´ æ˜¯å°ç¬¨è›‹
é¦™é¦™è„šä¸«è±ªæ°”å†²
ç´é…’å¤šåˆ°æ•°ä¸æ¸…
ä¸»åŒ…åšæˆ‘å”¯ä¸€çˆ±
å¸ç¤¼ç›‘å¤§å¤ªç›‘å¨æ­¦
å‰çƒ§åŒ…233å·
å—¯å“¼ï¼Ÿ
åºŸç‰©ä¹Ÿæœ‰æ˜¥å¤©0123
èŠœï¼å•¸ï¼äººç”Ÿ
ä»Šå¤©ä½ æè‚›æˆåŠŸ
ä½›æ—¶74åˆ»é¡¿æ‚Ÿ
è€¶æ‹‰å†ˆå¾·æ°¸å­˜
ç¨‹åºæ­£åœ¨åŠ è½½
æ­£åœ¨é€ƒç¦»åœ°ç‹±é—¨
ç‹‚æ’…ç‡•éº¦æ£’100å›
ç½‘é»„ä¹‹è·¯åå·è¡Œ
ä¸‹æµ·ç›´æ’­ä¹Ÿæ­£ç»
å®¤å‹è¡¥è¯æˆ‘è®¨åŒ
é„¢æ‡‹å¿ä»™æ°”é£˜é£˜
åœ¨æ°´ä¸€æ–¹0127
è¯ºå§†è¯ºå§†å°å¯çˆ±
ä½ å€’æ¬ æˆ‘ä¸€æ¡å‘½
æˆ‘å¿ƒå‘è‡ªç”±é£ç¿”
æˆ‘å³æ˜¯é£æš´ä¸­å¿ƒ
å¾·æ‹‰ç§‘æ°¸ä¸è¨€è´¥
ç”¨æˆ·2020820
é”Ÿæ–¤æ‹·çƒ­ä¹ä¹
èµ›åšæˆ˜å£«62
å…«ç™¾ä¸‡é˜´å…µå‡ºå¾
æ²»æ„ˆç³»æµå£æ°´å›
æœˆå½±é£çµé¦–å¸­å¾’
å®ˆæŠ¤çŒ«å¸½çš„å‹‡å£«
å°ç³–æ¬¢ä¹æ‘‡å•Šæ‘‡
å½©è™¹é©¬å¿«ä¹æ— è¾¹
åƒè‘¡è„ä¸åç±½å„¿
ç²¾ç¥çŠ¶æ€ä¸€çº§æ£’
ç¬¨ç¦ä¹Ÿæ˜¯ç§å¹¸ç¦
ğŸŒ¸é«˜éŸ³70å“å››æ–¹
å°çŒ«çˆ±èŠå£«æ±‰å ¡
å°è‰è“ç”œåˆé¦™
æ—©å®‰åˆå®‰æ™šå®‰ä½ 
ç§æ¤å›­æ±‰åŒ–ä¹‹å®¶
æ˜µç§°å‡ºç§Ÿä¸­å‹¿æ‰°
é˜¶æ¢¯å“¥å“¥æœ€å¸…æ°”
å’ªå–µç´ æ˜¯ä¸ªå‘†ç“œ
é¦™é¦™è„šä¸«èµ°å¤©ä¸‹
ç´é…’å¦‚æ³‰æ¶Œä¸å°½
ä¸»åŒ…æ˜¯æˆ‘å¿ƒå°–å® 
å¸ç¤¼ç›‘æŒå°å¤§äºº
å‰çƒ§åŒ…233å¥½åƒ
å—¯å“¼~æ€ä¹ˆäº†ï¼Ÿ
åºŸç‰©ä¹Ÿæœ‰å¤§ç”¨å¤„
èŠœï¼å•¸ï¼é—¯å¤©æ¶¯
ä»Šå¤©ä½ æè‚›æœ‰åŠ²
ä½›æ—¶75åˆ»ç¥ˆç¦
è€¶æ‹‰å†ˆå¾·ä¿ä½‘æˆ‘
ç¨‹åºå³å°†å“åº”
æ­£åœ¨å†²å‡ºåœ°ç‹±é—¨
ç‹‚æ’…ç‡•éº¦æ£’æ— é™
ç½‘é»„ä¹‹è·¯ä¹Ÿç²¾å½©
ä¸‹æµ·ç›´æ’­ä¹Ÿç–¯ç‹‚
å®¤å‹è¡¥è¯æˆ‘ç¬‘äº†
é„¢æ‡‹å¿ä»™æ°”ç¼­ç»•
åœ¨æ°´ä¸€æ–¹0128
è¯ºå§†è¯ºå§†èŒç¿»å¤©
ä½ æ¬ æˆ‘ä¸€ä»½æƒ…
æˆ‘å¿ƒéšé£è‡ªç”±é£˜
æˆ‘å³æ˜¯é‚£ç‹‚é£æš´
å¾·æ‹‰ç§‘æ°¸ä¸æ”¾å¼ƒ
ç”¨æˆ·2121830
é”Ÿæ–¤æ‹·çƒ­è…¾è…¾
èµ›åšæˆ˜å£«63å·
å…«ç™¾ä¸‡é˜´å…µå‰è¡Œ
æ²»æ„ˆç³»å°å¯çˆ±
æœˆå½±é£çµå°å¾’å¼Ÿ
å®ˆæŠ¤çŒ«å¸½çš„å‹‡å£«é•¿
å°ç³–æ¬¢ä¹æ‘‡æ‘‡æ‘†
å½©è™¹é©¬å¿«ä¹å¥”è·‘
åƒè‘¡è„ä¸åçš®å„¿
ç²¾ç¥é¥±æ»¡æ¯ä¸€å¤©
ç¬¨ç¦ä¹Ÿæœ‰å¤§æ™ºæ…§
ğŸŒ¼é«˜éŸ³80ä¼ å››æ–¹
å°çŒ«çˆ±åƒèŠå£«å ¡å¤š
å°è‰è“ç”œå¦‚èœœç³–
æ±‚æ±‚äº†åˆ«ç›—æˆ‘å·äº†å˜›
å…»çŒªå°å¦¹çš„æ—¥å¸¸
å®é™è‡´è¿œä¹‹å¢ƒ477å·
å…»ç”Ÿå°é¦†å­
äº‹ä¸è¿‡å†ä¸‰å¼Ÿæ¥ä¹Ÿ
è èæ²¹ç‰›è§’åŒ…ä¹‹æ‹
ä¹è¾Ÿè°·çš„ä¿®è¡Œè€…
å±å—å¤§è¥¿ç‹çš„ä¼ è¯´
å²è±å§†çš„å¥‡å¦™å†’é™©
æ´»æ­»é¸¡ä¹‹å¤œçš„ç‹‚æ¬¢
å¤©ç”Ÿä¸‡ç‰©å…»æ°‘å¿ƒ
å­¤ç‹¬è¡Œè€…35å·
å¤œèºæ³£è¡€ä¹‹å¤œçš„å“€æ­Œ
ä¸å¿ ä¸å­çš„å›é€†è€…
å–œæ€’æ— å¸¸çš„ç–¯ç™«å¸
è’™å¤ä¸Šå•çš„æµ·å†›æ¢¦
ä¸‡å¤é•¿å¤œä¸­çš„æ˜Ÿå…‰25
åƒåœŸå°‘å¥³çš„æ—¥å¸¸
è€ç™»å¿«æ¥äº¤4000å—
å…„å¼Ÿæƒ…æ·±æŠ±ä¸€ä¸‹
ç‹®é©¼å²­å¤§ç‹çš„éœ¸æ°”
è‹±å›½äº•ç›–ç‹çš„ä¼ å¥‡
å†…å‘çš„æˆ‘åªèµ°ä¸‹æ°´é“
çœ‹åˆ°æˆ‘çš„åè¯·å–æ°´å“¦
çœ‹åˆ°æˆ‘çš„åè¯·æè‡€å“ˆ
â™¡æŒšçˆ±å°é­”å¥³â™¡
ä¼‘é—²ç©å®¶52å·åœ¨çº¿
åè€å…¬å­©å­åœ¨å¤©å ‚å®ˆæœ›
è¿è§„ç”¨æˆ·92å·å†ç°
è¯¥ç”¨æˆ·å·²è¢«æ°¸ä¹…å°ç¦
è¿è§„ç”¨æˆ·93å·å‡ºæ²¡
ç™½å‘çº¢ç³æ§çš„å¹»æƒ³563
å²›åŠé‹ç›’çš„ç§˜å¯†
åƒç´ çš„é£Ÿäººé±¼æ—¥è®°
å¨å“¥1978çš„ç»å…¸å²æœˆ
åäºŒé˜¿å“¥1982çš„å›å¿†
å¾ˆä¸‘ä½†å¾ˆæŠ¢æ‰‹çš„æˆ‘
å‘†èŒçš„æ²¹è…»é¸¡å°åˆ†é˜Ÿ
æš´é£Ÿç—‡æ‚£è€…çš„æ—¥å¸¸è‚–æ©
é˜¿å¼ºæä¸èµ·åŠ²çš„æ—¥å­
åˆ˜æ³¢ä¼ é€’æ­£èƒ½é‡ä¸­
åˆºå¤´å“¥å’Œæ¸¸æˆçš„æ•…äº‹é›†
ç”¨æˆ·783663288çš„å¥‡é‡
åˆ†ä¸æ¸…çš„çº ç»“äººç”Ÿ
é»‘è‰²èƒŒå¿ƒæ§çš„æ—¶å°š
ä¸‰æµè‰ºæœ¯å®¶çš„æ¶‚é¸¦
æ²§æµ·ä¸€å£°ç¬‘çš„è±ªæƒ…
åˆ«å†ç›—å·äº†æ‹œæ‰˜äº†
å–œçŒªå¦¹çš„å…»çŒªæ—¥è®°
å®é™è‡´è¿œ477å·æ˜Ÿçƒ
å…»ç”Ÿå°é¦†çš„æ—¥å¸¸
äº‹ä¸è¿‡ä¸‰çš„å°ç¡®å¹¸
è èæ²¹ç‰›è§’åŒ…çš„è¯±æƒ‘
ä¹è¾Ÿè°·çš„ä¿®è¡Œè€…ä¹‹è·¯
å±å—å¤§è¥¿ç‹çš„å¾é€”
å²è±å§†çš„å¥‡å¦™å†’é™©è®°
æ´»æ­»é¸¡ä¹‹å¤œçš„ç‹‚æ¬¢è€…
å¤©ç”Ÿä¸‡ç‰©çš†æœ‰å…¶ç¾
å­¤ç‹¬æ˜Ÿçƒçš„35å·æ¢é™©å®¶
å¤œèºæ³£è¡€ä¹‹æ­Œçš„æ—‹å¾‹
ä¸å¿ ä¸å­çš„å›é€†ä¹‹è·¯
å–œæ€’æ— å¸¸çš„ç–¯ç™«äººç”Ÿ
è’™å¤ä¸Šå•çš„æµ·å†›ä¼ å¥‡
ä¸‡å¤é•¿å¤œä¸­çš„å¾®å…‰é—ªçƒ
åƒåœŸå°‘å¥³çš„æ—¥å¸¸ç¢ç‰‡
è€ç™»å¿«æ¥äº¤ä½œä¸šå•¦å–‚
å…„å¼Ÿæƒ…æ·±ä¼¼æµ·æŠ±ä¸€æŠ±
ç‹®é©¼å²­å¤§ç‹çš„éœ¸æ°”ä¾§æ¼
è‹±å›½äº•ç›–ç‹çš„åœ°ä¸‹ä¸–ç•Œ
å†…å‘çš„æˆ‘èµ°ä¸‹æ°´é“å¥‡é‡
çœ‹åˆ°æˆ‘çš„åè¯·å–æ°´è§£æ¸´
çœ‹åˆ°æˆ‘çš„åè¯·æè‡€å¡‘å½¢
â™¡æŒšçˆ±å°ç”œå¿ƒâ™¡åœ¨çº¿
ä¼‘é—²ç©å®¶52å·çš„æ‚ é—²æ—¶å…‰
åè€å…¬å­©å­åœ¨å¤©å ‚å®ˆæŠ¤
è¿è§„ç”¨æˆ·92å·çš„æ–°ç”Ÿæ´»
è¯¥ç”¨æˆ·å·²è¢«ç³»ç»Ÿé—å¿˜
è¿è§„ç”¨æˆ·93å·çš„é€†è¢­
ç™½å‘çº¢ç³æ§çš„å¹»æƒ³ä¸–ç•Œ
å²›åŠé‹ç›’çš„ç§˜å¯†å®è—
åƒç´ çš„é£Ÿäººé±¼æ—¥è®°æ›´æ–°
å¨å“¥1978çš„å¤å¤é­…åŠ›
åäºŒé˜¿å“¥1982çš„å®«å»·é£äº‘
å¾ˆä¸‘ä½†å¾ˆæŠ¢æ‰‹çš„ç‹¬ç‰¹é­…åŠ›
å‘†èŒçš„æ²¹è…»é¸¡å°åˆ†é˜Ÿé›†ç»“
æš´é£Ÿç—‡æ‚£è€…çš„ç¾é£Ÿæ¢ç´¢
é˜¿å¼ºæä¸èµ·åŠ²çš„åˆåæ—¶å…‰
åˆ˜æ³¢ä¼ é€’æ­£èƒ½é‡çš„æ—¥å¸¸
åˆºå¤´å“¥å’Œæ¸¸æˆçš„ä¸è§£æƒ…ç¼˜
ç”¨æˆ·783663288çš„å¥‡å¦™ä¹‹æ—…
åˆ†ä¸æ¸…çš„çº ç»“ä¸è¿·èŒ«
é»‘è‰²èƒŒå¿ƒæ§çš„æ—¶å°šæ½®æµ
ä¸‰æµè‰ºæœ¯å®¶çš„åˆ›æ„æ— é™
æ²§æµ·ä¸€å£°ç¬‘çš„æ±Ÿæ¹–ä¼ è¯´
æˆ‘ç©¶ç«Ÿæ˜¯ä¸æ˜¯éšèº«å‘¢
è´¦å·å·²æ³¨é”€WIN7
å…­æ–¹å­—äºŒé—ªé¿æœ¯
é£é¸Ÿä¹‹å³çœ¼
æ„Ÿè°¢é€—æ¯”68
å¤æ‹‰æ ¼å«ç”Ÿå‘˜89
èŒ¸èŒ¸æ€ª
æ‹–å»¶ç™Œæ™šæœŸæ‚£è€…15
è‰è“é¾™å·é£3
é±¼é¸Ÿvå¼‚æ¬¡å…ƒæ‹
æ¢§æ¡å˜é©33
ç¡¬é‚¦é‚¦å¥èº«ç”·4
å‘ç°ä¸­ä¸œçŸ³æ²¹å·²é”å®š
åŒ—æµ·ç –å—66
åƒé¥­ç¡è§‰ç©æ¸¸æˆ19
åˆ«å‚¬æˆ‘èµ·åºŠ16
é€—ä¸€ä¸‹è¶…å¿«ä¹88
æˆ‘æ˜¯å°ç”œå¿ƒ45
å“¼å“¼å«çš„çŒªè¹„17
å®¿å‘½è£å†³88
æç‹‚é£æ€å¤©æ€åœ°85
ç¹èŠ±ä¼¼é”¦12
çˆ±èµ°ç¥çš„æœæœ91
æå¤§ç“œ
ç«ä¹‹å°¼ç¦„
é…¸æ¢…æ¢…
èŒ‰è‰é¦™
å–µçš‡å¤§äºº
åƒè´§å°åˆ†é˜Ÿ
æˆ‘ç©¶ç«Ÿæ˜¯ä¸æ˜¯æ½œæ°´å…š
è´¦æˆ·å·²åˆ é™¤VISTA
å…«å¦å­—ä¸‰çµåŠ¨
æ¸¸é±¼ä¹‹å³çœ¼ç 
æ„Ÿè°¢æ†¨æ†¨77
è¥¿ä¼¯åˆ©äºšåŠ³å·¥93
æ¯›æ¯›çƒ
å¤œçŒ«å­æ™šæœŸæ‚£è€…39
æ¨±æ¡ƒé£æš´9
é¼ å…”vè·¨ç§æ—æ‹
æ¾æœ¨èµ·ä¹‰41
é“æ‰“æ‰“çš„å¥èº«ç‹‚11
å‘ç°å—æé“çŸ¿å·²æ ‡æ³¨
ä¸œç€›ç Œå—77
åƒé¥­ç¡è§‰çœ‹ç›´æ’­5
åˆ«æ‹½æˆ‘èµ·åºŠ38
çš®ä¸€ä¸‹å¥½çˆ½66
æˆ‘æ˜¯å°ç”œå¿ƒé¥¼59
å’•å’•å«çš„é¸¡ç¿…11
å‘½è¿è½®ç›˜82
èµµé£å¤©éåœ°æ— æ‰€ä¸èƒ½78
æ˜¥æš–èŠ±å¼€29
çˆ±å¹»æƒ³çš„æ©™å­74
ç‹å°ç“œ
å†°ä¹‹å°¼ç¦„
èœœæ¡ƒæ¡ƒ
èŒ‰è‰èŠ±å¼€
å–µç•Œéœ¸ä¸»
åƒè´§è”ç›Ÿ
æˆ‘åˆ°åº•æ˜¯ä¸æ˜¯éšèº«ä¾ 
ç”¨æˆ·å·²ä¸‹çº¿ME
ä¸ƒæ˜Ÿå­—å››èº²é—ª
æ¸¸è›‡ä¹‹å·¦çœ¸
æ„Ÿè°¢äºŒè´§49
å¤æ‹‰æ ¼åŒ»å¸ˆ99
æ¯›æ¯›ç²¾çµ
æ‡’çŒªæ™šæœŸæ‚£è€…47
è‘¡è„æ—‹é£2
é¹¦é¹‰væ‹çˆ±ç‰©è¯­
æ©¡æœ¨é©å‘½51
è‚Œè‚‰æ»¡æ»¡çš„ä½“è‚²ç”Ÿ2
å‘ç°åŒ—æçŸ³æ²¹æ–°åœ°æ ‡
å—æ´‹ç –ç“¦88
åƒé¥­ç¡è§‰è¿½å‰§é›†33
åˆ«çƒ¦æˆ‘èµ·åºŠ44
çš®ä¸€ä¸‹è¶…å—¨77
æˆ‘æ˜¯å°è›‹ç³•26
å—·å—·å«çš„ç‰›æ’30
å‘½è¿ç½—ç›˜91
å¼ è¶…ç¥æ¸¸å¤©åœ°72
èŠ±å¼€åŠå¤24
çˆ±æ„£ç¥çš„æ¡ƒæ¡ƒ89
ç‹ç”œç“œ
å…‰ä¹‹å°¼ç¦„
ç”œæ©™æ©™
ç±³é¦™å››æº¢
å–µæ˜Ÿçƒé¢†ä¸»
åƒè´§å¤©ä¸‹è¡Œ
æˆ‘ç©¶ç«Ÿæ˜¯ä¸æ˜¯éšèº«å›
è´¦å·å·²æ³¨é”€LINUX
ä¹æ˜Ÿå­—äº”é—ªé¿è¯€
æ¸¸éš¼ä¹‹é”çœ¼
æ„Ÿè°¢é€—æ¯”ä¾ 61
åŠ³æ”¹æ‰€çœ‹å®ˆ101
æ¯›æ¯›çƒç²¾çµ
æ‹–å»¶ç—‡æ‚£è€…ç»ˆæç‰ˆ13
æŸ æª¬é£æš´10
é¾Ÿå…”vèµ›è·‘æ–°ç¯‡
æ«æœ¨å˜é©69
é’¢ç­‹é“éª¨çš„å¥èº«ç”·7
å‘ç°æœˆçƒèµ„æºæ–°çº¿ç´¢
å—å²›ç –å—44
åƒé¥­ç¡è§‰æ‰“åœ°é¼ 8
åˆ«æ‹½æˆ‘è¢«å­55
çš®ä¸€ä¸‹å¾ˆå¼€å¿ƒå“Ÿ54
æˆ‘æ˜¯å°ç”œå¿ƒæ´¾68
å±å±å«çš„çƒ¤è‚ 28
å‘½è¿äº¤å“æ›²85
åˆ˜è¶…çºµæ¨ªå››æµ·63
èŠ±å¥½æœˆåœ†16
çˆ±èµ°ç¥çš„è±†è±†95
ç‹èœœç“œ
å½±ä¹‹å°¼ç¦„
ç”œæŸ¿æŸ¿
ç±³èŠ±é¦™
å–µç•Œå°ä»™å¥³
åƒè´§çš„ç‹‚æ¬¢èŠ‚
`;

statDisplay.create("lviewers", () => statDisplay.statChange("è§‚ä¼—æ•°", -1, "red"));
statDisplay.create("llviewers", () => statDisplay.statChange("è§‚ä¼—æ•°", -2, "red"));
statDisplay.create("gviewers", () => statDisplay.statChange("è§‚ä¼—æ•°", 1, "green"));
statDisplay.create("ggviewers", () => statDisplay.statChange("è§‚ä¼—æ•°", 2, "green"));

const inthash = str => {
    let arr = str.split('');
    return Math.abs(arr.reduce(
        (hashCode, currentVal) =>
        (hashCode = currentVal.charCodeAt(0) + (hashCode << 6) + (hashCode << 16) - hashCode),
        0
    ));
};
setup.inthash = inthash;

const randomUsers = usernames.split('\n').map(item => item.trim());
setup.moreUsers = {};
for (let user of randomUsers) {
    let id = inthash(user).toString();
    let attitude = ["supportive", "supportive", "neutral", "neutral", "negative"];
    let specialSpeech = [];
    let data = {
        "id": id,
        "username": user,
        "attitude": attitude,
        "specialSpeech": specialSpeech
    }
    setup.moreUsers[id] = data;
}

setup.random_msg = {
    supportive_list: ["è¿™é‡Œåœ¨æ’­ä»€ä¹ˆï¼Œå¥½çƒ­é—¹çš„æ ·å­ã€‚", "ä¸»æ’­çš„ç¬‘å®¹ï¼Œæ˜¯ä»Šå¤©æœ€æ¸©æš–çš„é˜³å…‰ï¼", "ä¸»æ’­ä¸»æ’­ï¼Œæ—è¾¹æ˜¯ä½ <<girlfriend>>å—ï¼Ÿ",
        "ä¸»æ’­åŠ æ²¹ï¼Œä½ çš„ç¬‘å®¹è¶…çº§æ²»æ„ˆï¼", "ä»Šå¤©ä¹Ÿæ˜¯å…ƒæ°”æ»¡æ»¡çš„ä¸€å¤©ï¼Œä¸»æ’­å¥½æ£’ï¼", "ç›´æ’­é—´çš„æ°›å›´å¤ªæ£’äº†ï¼Œæ¯æ¬¡æ¥éƒ½æ„Ÿè§‰å¾ˆæ¸©é¦¨ï¼", "è¢«ä¸»æ’­çš„çœŸè¯šæ‰“åŠ¨ï¼Œç»§ç»­åŠ æ²¹å“¦ï¼", "ç›´æ’­é—´æ°›å›´çœŸå¥½ï¼Œå¤§å®¶éƒ½å¥½å’Œè°ï¼", "çœ‹ä¸»æ’­ç›´æ’­ï¼Œå¿ƒæƒ…éƒ½å˜å¥½äº†ï¼", "æŠ€æœ¯æµä¸»æ’­ï¼Œçˆ±äº†çˆ±äº†ï¼Œç»§ç»­å‘å…‰å‘çƒ­å§ï¼", "æ¯æ¬¡çœ‹ä¸»æ’­ç›´æ’­éƒ½è§‰å¾—æ—¶é—´è¿‡å¾—å¥½å¿«ï¼", "ä¸»æ’­çš„ç¬‘å£°æ˜¯æˆ‘æ¯å¤©çš„å¿«ä¹æºæ³‰ï¼", "ç›´æ’­é—´çš„æœ‹å‹ä»¬éƒ½å¥½æœ‰çˆ±ï¼Œä¸€èµ·åŠ æ²¹ï¼",
        "ç»™ä¸»æ’­æ¯”å¿ƒå¿ƒ", "ä¸»æ’­å¥½åƒä¸€åªå°å°å°é¸Ÿå•Š", "ä¸»æ’­å¥½ç”¨å¿ƒ", "è¿™æ˜¯æˆ‘æœ€çˆ±çš„ä¸»æ’­", "å¤§å®¶éƒ½å¥½æœ‰å“å‘³", "\\ä¸»æ’­/\\ä¸»æ’­/\\ä¸»æ’­/", "ä»Šå¤©çš„ç›´æ’­å¤ªç²¾å½©äº†ï¼Œå®Œå…¨çœ‹ä¸å¤Ÿï¼"
    ],
    neutral_list: ["ä¸»æ’­ä¸»æ’­ï¼Œè¿™æ˜¯ç›´æ’­å—ï¼Ÿ", "åœ¨æ’­ä»€ä¹ˆå‘€ï¼Ÿ", 'ä¸é”™ï¼Œç»§ç»­çœ‹çœ‹ã€‚', "ä¸»æ’­åœ¨å¿™ä»€ä¹ˆå‘¢ï¼Ÿ", "çœ‹èµ·æ¥æŒºæœ‰è¶£çš„", "ç”»é¢æŒºæ¸…æ™°çš„", "ç›´æ’­æŒºæµç•…çš„", "èŠ‚å¥æŠŠæ¡å¾—ä¸é”™ã€‚", "æŒºæœ‰æ–°æ„çš„ç›´æ’­", "æœŸå¾…æ›´å¤šå†…å®¹", "å†…å®¹æœ‰ä¸€ç‚¹æ— èŠ", "å†…å®¹æœ‰ä¸€ç‚¹å¹³æ·¡"],
    negative_list: ["è¿™æ’­å¾—æ˜¯ä»€ä¹ˆä¸œè¥¿", "æ— èŠï¼Œæ¥æ’­ç‚¹æ›´åˆºæ¿€çš„ä¸œè¥¿å§", "æŠŠä½ çš„è¡£æœè„±äº†", "åƒåœ¾ä¸»æ’­ï¼Œè¶æ—©æ”¹è¡Œå§", "å‚»X", "è„‘æ®‹ä¸»æ’­", "è£…ä»€ä¹ˆçº¯æ´å‘¢ï¼Œçœ‹çœ‹ä½ çš„", "è¿™ä¸æ˜¯æœ‰æ‰‹å°±è¡Œ", "ä¸»æ’­æœ‰ä¸€ç‚¹èœ", "æ„Ÿè§‰æˆ‘ä¸Šæˆ‘ä¹Ÿè¡Œ", "ä¸»æ’­å¤ªæ‹¼å‘½äº†"]
}

setup.begin_msg = {
    supportive_list: ["æ¬¢è¿æ¬¢è¿~", "æ¬¢è¿æ–°æœ‹å‹ï¼", "ä¸»æ’­ä¸»æ’­ï¼Œä½ <<robinFriend>>å¹³æ—¶ä¹Ÿçˆ±ç©æ¸¸æˆå—ï¼Ÿ", "ä¸»æ’­çš„<<robinFriend>>çœŸå¯çˆ±ï¼Œç¾¡æ…•äº†", "é’æ¢…ç«¹é©¬ä¸€èµ·ç›´æ’­ï¼ŒçœŸæ˜¯å¤ªæœ‰çˆ±äº†ï¼"],
    neutral_list: ["ä¸çŸ¥é“æ–°äººçš„æŠ€æœ¯æ€ä¹ˆæ ·ï¼Ÿ", "ç›´æ’­é—´æ›´çƒ­é—¹äº†ï¼ŒæŒºå¥½ã€‚"],
    negative_list: ["ä¸»æ’­çš„<<robinFriend>>çœ‹èµ·æ¥å¥½éªšå•Š", "æ–°äººï¼Ÿå¤šå°‘é’±ä¸€æ¬¡", "åƒåœ¾ä¸»æ’­ï¼Œä»å“ªæ‰¾çš„è¿™ä¹ˆå¥½çœ‹çš„<<robinFriend>>", "ä¸€çœ‹å°±æŠ€æœ¯å¾ˆåƒåœ¾"]
}

setup.randomrelfreq = function(array) {
    // accepts a strided array in form [thing, 20, thing, 80]
    // in order to make one thing 20% likely and the other 80% likely
    // or however you want to weight it, hence relative frequency
    // then returns the winning element

    let randomized = [...array];
    let sumsofar = 0;
    for (let i = 0; i < randomized.length; i += 2) {
        let factor = randomized[i + 1];
        factor = factor == 0 ? 1 : factor;
        sumsofar += factor;
        randomized[i + 1] = sumsofar;
    }

    let roll = this.rir(0, sumsofar);

    for (let i = 0; i < randomized.length; i += 2) {
        if (roll <= randomized[i + 1]) {
            return randomized[i];
        }
    }

    return randomized[0];
}

setup.rbg_from_string = function(name) {
    let hash = inthash(name).toString();

    while (hash.length < 9)
        hash += " ";

    let r = parseInt(hash.substring(0, 3));
    let g = parseInt(hash.substring(3, 6));
    let b = parseInt(hash.substring(6, 9));

    r = Math.trunc(128 + (128 * (r / 999)));
    g = Math.trunc(128 + (128 * (g / 999)));
    b = Math.trunc(128 + (128 * (b / 999)));

    return "rgb(" + r + ", " + g + ", " + b + ")";
}

setup.rir = function(min, max) {
    return Math.floor(State.random() * (max - min) + min);
}

Macro.add('streamscreen', {
    tags: null,
    handler: function() {
        $(this.output).wiki('<main class="streamscreen">' + this.payload[0].contents + '</main>');
    }
});

Macro.add('highlight', {
    tags: null,
    handler: function() {
        let hlclass = this.payload[0].args[0] || "notice";
        $(this.output).wiki('<span class="' + hlclass + '">' + this.payload[0].contents + '</span>');
    }
});

window.random_username = function(taken = []) {
    let name = null;
    while (!name || taken.includes(name))
        name = Object.keys(setup.users).random();
    return name;
}

function forbideClicked() {
    // å‡è®¾ä½ æœ‰ä¸€ä¸ªå…ƒç´ æ•°ç»„
    $(function() {
        let elements = document.querySelectorAll('.liveStreamForbide');
        console.log("å…ƒç´ æ•°ç»„é•¿åº¦æ˜¯" + elements.length)
            // å¾ªç¯é€šè¿‡å…ƒç´ æ•°ç»„ï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶
        elements.forEach(function(element, index) {
            element.onclick = (function(fixedIndex) {
                return function() {
                    // åœ¨è¿™é‡Œå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œä½¿ç”¨å›ºå®šå‚æ•°
                    onForbideClicked(element);
                };
            })(index); // è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å¹¶ä¼ é€’å½“å‰çš„indexä½œä¸ºå›ºå®šå‚æ•°
        });
    });
}
window.forbideClicked = forbideClicked;

function onForbideClicked(element) {
    let chatIndex = element.parentNode.previousElementSibling.innerText;
    console.log("ç‚¹å‡»ç¦è¨€ï¼Œå½“å‰chatIndexæ˜¯ï¼š" + chatIndex);
    let chatter = getElementByUUID(V.stream.chat, chatIndex);
    if (V.blacklist.includes(chatter.id)) {
        console.log("å½“å‰ç”¨æˆ·ã€Œ" + chatter.user + "ã€å·²è¢«ç¦è¨€ï¼Œé‡å¤ç‚¹å‡»æ— æ•ˆ");
        return;
    }
    let msg = "ç”¨æˆ·ã€Œ" + chatter.user + "ã€å·²è¢«ç®¡ç†å‘˜ç¦è¨€";
    let data = { "user": "ç³»ç»Ÿæ¶ˆæ¯", "id": "sysInfo", "text": msg, "attitude": "neutral" };
    let uuid = generateUUID();
    data.uuid = uuid;
    V.blacklist.pushUnique(chatter.id);
    V.stream.chat.pushUnique(data);
    V.forbiddenChats.pushUnique(chatter);
    let innerHTML = '<span class="streamchatIndex">' + uuid + '</span><span class="streamchatmsg"><span class="streamchatname" style="color: rgb(226, 191, 171)">ç³»ç»Ÿæ¶ˆæ¯ï¼š</span>' + msg + '</span><div class="streamchatsep">&nbsp;</div>'
    let parentElement = element.parentNode.parentNode;
    parentElement.innerHTML = parentElement.innerHTML + innerHTML;
    forbideClicked();
    deleteClicked();
}

// æ²¡æœ‰äººæ¯”æˆ‘æ›´æ‡‚æ€ä¹ˆå†™ç‹®å±±ï¼Œè½»ç‚¹åæ§½å•Šï¼Œè½»ç‚¹
function deleteClicked() {
    // å‡è®¾ä½ æœ‰ä¸€ä¸ªå…ƒç´ æ•°ç»„
    $(function() {
        let elements = document.querySelectorAll('.liveStreamDelete');
        console.log("å…ƒç´ æ•°ç»„é•¿åº¦æ˜¯" + elements.length)
            // å¾ªç¯é€šè¿‡å…ƒç´ æ•°ç»„ï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶
        elements.forEach(function(element, index) {
            element.onclick = (function(fixedIndex) {
                return function() {
                    // åœ¨è¿™é‡Œå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œä½¿ç”¨å›ºå®šå‚æ•°
                    //console.log("ç‚¹å‡»åˆ é™¤æˆåŠŸï¼å½“å‰indexæ˜¯" + fixedIndex)
                    onDeleteClicked(element);
                };
            })(index); // è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å¹¶ä¼ é€’å½“å‰çš„indexä½œä¸ºå›ºå®šå‚æ•°
        });
    });
}
window.deleteClicked = deleteClicked;

function onDeleteClicked(element) {
    // let elements = document.querySelectorAll('.liveStreamDelete');
    // let element = elements[fixedIndex];
    let chatIndex = element.parentNode.previousElementSibling.innerText;
    console.log("ç‚¹å‡»åˆ é™¤ï¼Œå½“å‰chatIndexæ˜¯" + chatIndex);
    let chatter = getElementByUUID(V.stream.chat, chatIndex);
    V.deletedChats.pushUnique(chatter);
    V.stream.chat = removeElementByUUID(V.stream.chat, chatIndex);
    element.parentNode.previousElementSibling.remove();
    element.parentNode.nextElementSibling.remove();
    element.parentNode.remove();
}

function getAllPossibleUser(type) {
    // ä¹‹åè¦åšæ•™å¸ˆç»„äº’æ–¥å†…å®¹
    let userList = Object.keys(V.currUsers).filter(user => !V.blacklist.includes(user));
    if (!type) {
        return userList;
    }
    if (type === "neutral") {
        userList = userList.filter(user => V.currUsers[user].attitude.includes("neutral") &&
            !V.fanslist.includes(user));
    }
    if (type === "supportive") {
        userList = userList.filter(user => V.currUsers[user].attitude.includes("supportive"));
    }
    if (type === "negative") {
        userList = userList.filter(user => V.currUsers[user].attitude.includes("negative") &&
            !V.fanslist.includes(user));
    }
    return userList;
}
window.getAllPossibleUser = getAllPossibleUser;

// éšæœºæŒ‘é€‰ä¸€äº›ç”¨æˆ·è¿›ç”¨æˆ·æ± ï¼Œç¡®ä¿ä¸‰åˆ†ä¹‹ä¸€å·¦å³ä¸ºç½—å®¾modä¸“å±ç”¨æˆ·
function generateRandomUser() {
    let randomUsers = getRandomElements(Object.keys(setup.moreUsers), 70);
    for (let user of randomUsers) {
        V.currUsers[user] = setup.moreUsers[user];
    }
}
window.generateRandomUser = generateRandomUser;

// è·å–ç²‰ä¸åˆ—è¡¨(ç”¨æˆ·åå³å¯)
function getFanslist() {
    let result = [];
    for (let id of V.fanslist) {
        if (setup.users[id]) {
            result.pushUnique(setup.users[id].username);
        } else if (setup.moreUsers[id]) {
            result.pushUnique(setup.moreUsers[id].username);
        } else if (setup.teather_users[id]) {
            result.pushUnique(setup.teather_users[id].username);
        } else {
            console.error("getFanslistå½“å‰id" + id + "ä¸å­˜åœ¨å¯¹åº”çš„ç”¨æˆ·");
        }
    }
    return result;
}
window.getFanslist = getFanslist;

// è·å–é»‘åå•åˆ—è¡¨ï¼ˆç”¨æˆ·å+idï¼Œæäººç”¨ï¼‰
function getBlacklist() {
    let result = [];
    for (let id of V.blacklist) {
        if (setup.users[id]) {
            result.pushUnique({ "id": id, "name": setup.users[id].username });
        } else if (setup.moreUsers[id]) {
            result.pushUnique({ "id": id, "name": setup.moreUsers[id].username });
        } else {
            console.error("getBlacklistå½“å‰id" + id + "ä¸å­˜åœ¨å¯¹åº”çš„ç”¨æˆ·");
        }
    }
    return result;
}
window.getBlacklist = getBlacklist;

function blacklistRemoveClicked() {
    // å‡è®¾ä½ æœ‰ä¸€ä¸ªå…ƒç´ æ•°ç»„
    $(function() {
        let elements = document.querySelectorAll('.blacklistRemove');
        console.log("å…ƒç´ æ•°ç»„é•¿åº¦æ˜¯" + elements.length)
            // å¾ªç¯é€šè¿‡å…ƒç´ æ•°ç»„ï¼Œç»‘å®šç‚¹å‡»äº‹ä»¶
        elements.forEach(function(element, index) {
            element.onclick = (function(fixedIndex) {
                return function() {
                    // åœ¨è¿™é‡Œå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼Œä½¿ç”¨å›ºå®šå‚æ•°
                    //console.log("ç‚¹å‡»åˆ é™¤æˆåŠŸï¼å½“å‰indexæ˜¯" + fixedIndex)
                    blacklistRemove(element);
                };
            })(index); // è°ƒç”¨ç«‹å³æ‰§è¡Œå‡½æ•°å¹¶ä¼ é€’å½“å‰çš„indexä½œä¸ºå›ºå®šå‚æ•°
        });
    });
}
window.blacklistRemoveClicked = blacklistRemoveClicked;


function blacklistRemove(element) {
    let id = element.parentNode.previousElementSibling.innerText;
    console.log("ç‚¹å‡»å›æ”¶é»‘åå•ï¼Œå½“å‰idæ˜¯" + id);
    V.blacklist.delete(id)
    element.parentNode.previousElementSibling.remove();
    element.parentNode.nextElementSibling.remove();
    element.parentNode.remove();
}

function checkFame() {
    T.fixedChatFans = [];
    T.fixedChatNegative = [];
    T.viewerChange = 0;
    let hasOnePos = false,
        hasOneNeg = false,
        hasMorePos = false,
        hasMoreNeg = false;
    if (V.fame.scrap >= 600) {
        T.fixedChatFans.push("å¤©å“ªï¼Œè¿™ä¸æ˜¯æœ€è¿‘èµ«èµ«æœ‰åçš„æ‹³çš‡å—ï¼Ÿä¸»æ’­çš„<<robinFriend>>å±…ç„¶æ˜¯<<pher>>ï¼Ÿ");
        hasOnePos = true;
    } else if (V.fame.scrap >= 200) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>åœ¨æ‰“æ¶æ–¹é¢å¾ˆåœ¨è¡Œï¼Œæˆ‘å¬è¯´è¿‡<<pher>>");
    }
    if (V.fame.good >= 600) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>åœ¨æ…ˆå–„é¢†åŸŸéå¸¸æœ‰åï¼Œä¸æ„§æ˜¯ä¸»æ’­ã€‚");
        hasOnePos = true;
    } else if (V.fame.good >= 200) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>æ®è¯´æ˜¯ä¸ªå¾ˆå–„è‰¯çš„äººã€‚");
    }
    if (V.fame.business >= 600) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>å¥½åƒæ˜¯ä¸€ä¸ªçŸ¥åçš„ä¼ä¸šå®¶ï¼ŒçœŸå‰å®³ã€‚");
        hasOnePos = true;
    } else if (V.fame.business >= 200) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>å¥½åƒåœ¨å•†ä¸šä¸Šæœ‰ä¸€äº›åæ°”ã€‚");
    }
    if (V.fame.social >= 600) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>å¥½åƒæ˜¯ç¤¾äº¤ç•Œçš„åæµï¼ŒçœŸçš„æ˜¯æœ¬äººå—ï¼Ÿ");
        hasOnePos = true;
    } else if (V.fame.social >= 200) {
        T.fixedChatFans.push("æˆ‘å¥½åƒåœ¨ç¤¾äº¤ç•Œå¬è¯´è¿‡ä¸»æ’­çš„<<robinFriend>>ã€‚");
    }
    if (V.fame.model >= 600) {
        T.fixedChatFans.push("å¤©å“ªï¼Œè¿™ä¸æ˜¯é‚£ä½çŸ¥åçš„æ¨¡ç‰¹å—ï¼Ÿæˆ‘ä¹Ÿæ˜¯<<pher>>çš„ç²‰ä¸å‘¢ã€‚");
        hasOnePos = true;
    } else if (V.fame.model >= 200) {
        T.fixedChatFans.push("æˆ‘å¥½åƒåœ¨æ¨¡ç‰¹æ‚å¿—ä¸Šè§è¿‡ä¸»æ’­çš„<<robinFriend>>ã€‚");
    }
    if (V.fame.scrap + V.fame.good + V.fame.business + V.fame.social + V.fame.model >= 3000) {
        T.fixedChatFans.push("ä¸»æ’­çš„<<robinFriend>>å®åœ¨æ˜¯å¤ªå®Œç¾äº†ï¼Œæˆ‘çœŸçš„å¤ªç¾¡æ…•ä¸»æ’­äº†ã€‚");
        hasMorePos = true;
    }
    if (V.fame.sex >= 200 || V.fame.prostitution >= 200 || V.fame.rape >= 200 || V.fame.bestiality >= 200 || V.fame.exhibitionism >= 200 || V.fame.pregnancy >= 200 || V.fame.impreg >= 200) {
        T.fixedChatNegative.push("ä¸»æ’­çš„<<robinFriend>>å¥½åƒæœ‰ä¸€äº›ä¸å¤ªå¥½çš„ä¼ é—»...");
    }
    if (V.fame.sex >= 200 || V.fame.prostitution >= 600 || V.fame.rape >= 600 || V.fame.bestiality >= 600 || V.fame.exhibitionism >= 600 || V.fame.pregnancy >= 600 || V.fame.impreg >= 600) {
        T.fixedChatNegative.push("ä¸»æ’­çš„<<robinFriend>>ä¸æ˜¯ä¸€ä¸ªçŸ¥åçš„éªšè´§å—ï¼Ÿè¿™æ ·æ˜¯ä¸æ˜¯ä¸å¤ªå¥½ï¼Ÿ");
        hasOneNeg = true;
    }
    if (V.fame.sex + V.fame.prostitution + V.fame.rape + V.fame.bestiality + V.fame.exhibitionism + V.fame.pregnancy + V.fame.impreg >= 3000) {
        T.fixedChatNegative.push("æˆ‘å¬è¯´ä¸»æ’­çš„<<robinFriend>>æœ‹å‹ç®€ç›´æ˜¯ä¸ªå˜æ€ï¼Œä¸ºä»€ä¹ˆä¸»æ’­ä¼šæœ‰è¿™æ ·çš„<<robinFriend>>ï¼Ÿ");
        hasMoreNeg = true;
    }
    if (hasMorePos) {
        T.viewerChange += 2;
    } else if (hasOnePos) {
        T.viewerChange += 1;
    }
    if (hasMoreNeg) {
        T.viewerChange -= 2;
    } else if (hasOneNeg) {
        T.viewerChange -= 1;
    }
    if (T.viewerChange === 2 && !V.weekly.liveStreamStageChanged) {
        V.weekly.liveStreamStageChanged = true;
        V.liveStreamStage += 1;
    }
    if (T.viewerChange === -2 && !V.weekly.liveStreamStageChanged) {
        V.weekly.liveStreamStageChanged = true;
        V.liveStreamStage -= 1;
    }
}
window.checkFame = checkFame;

// æ€é¸¡ç”¨ç‰›åˆ€ä¹‹UUIDç‰ˆID
function generateUUID() {
    let d = new Date().getTime();
    if (typeof performance !== 'undefined' && typeof performance.now === 'function') {
        d += performance.now(); //use high-precision timer if available
    }
    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
        let r = (d + Math.random() * 16) % 16 | 0;
        d = Math.floor(d / 16);
        return (c === 'x' ? r : (r & 0x3 | 0x8)).toString(16);
    });
}
window.generateUUID = generateUUID;

function getElementByUUID(arr, uuid) {
    for (let i = 0; i < arr.length; i++) {
        if (arr[i].uuid === uuid) {
            return arr[i];
        }
    }
    return null;
}
window.getElementByUUID = getElementByUUID;

function removeElementByUUID(arr, uuid) {
    for (let i = 0; i < arr.length; i++) {
        if (arr[i].uuid === uuid) {
            arr.splice(i, 1);
            return arr;
        }
    }
    return arr;
}
window.removeElementByUUID = removeElementByUUID;